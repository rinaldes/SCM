<style>
  .jarviswidget > header {
    height: 45px;
}
</style>
<div id="ribbon">
  <ol class="breadcrumb">
    <li>Master Data</li><li>Promo</li><li>List</li>
  </ol>
</div>
<div id="content">
  <section id="widget-grid" class="">
    <div id='notice_template'><%= render 'layouts/notice' %></div>
    <div class="row">
      <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-1" data-widget-editbutton="false">
          <header id="header-product" role="heading">
          <h2><span class="widget-icon"> <i class="fa fa-list-ul"></i> </span> List Promo</h2> <!-- header content --></header>
          <div style="margin-top:-10px;"><!-- widget div-->
            <div class="widget-body no-padding"><!-- widget content -->
              <%= link_to new_promotion_url, :class => "btn btn-labeled btn-primary edit-btn-primary" do %>
                <span class="btn-label"><i class="glyphicon glyphicon-plus"></i></span>Add Promo
              <% end %>
            </div>
            <table class="table table-striped table-bordered" width="100%">
              <thead>
                <tr>
                  <th>No</th>
                  <th>
                    Code <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'code-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'code-asc', class: 'sorting' %>
                  </th>
                  <th>
                    Promo Name <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'name-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'name-asc', class: 'sorting' %>
                  </th>
                  <th>
                    Promotion Type <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'promotion_type-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'promotion_type-asc', class: 'sorting' %>
                  </th>
                  <th>
                    Valid From <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'from-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'from-asc', class: 'sorting' %>
                  </th>
                  <th class='nowrap'>
                     Valid Until <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'to-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'to-asc', class: 'sorting' %>
                  </th>
                  <th class='nowrap'>
                    Is Claim? <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'is_claim-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'is_claim-asc', class: 'sorting' %>
                  </th>
                  <th class='nowrap'>
                    Is Member? <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'is_member-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'is_member-asc', class: 'sorting' %>
                  </th>
                  <th class='nowrap'>
                    Is Multiple? <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'is_p2p-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'is_p2p-asc', class: 'sorting' %>
                  </th>
                  <th class='nowrap'>
                    Branch <%= link_to raw("<i class='fa fa-sort-desc'></i>"), 'javascript:void(0)', id: 'branch_name-desc', class: 'sorting hide' %>
                    <%= link_to raw("<i class='fa fa-sort-asc'></i>"), 'javascript:void(0)', id: 'branch_name-asc', class: 'sorting' %>
                  </th>
                  <th>Action</th>
                </tr>
                <tr>
                  <th></th>
                  <th class="hasinput">
                    <%= text_field_tag :code, params[:code], class: 'form-control search', name: 'promotions.code' %>
                  </th>
                  <th class="hasinput">
                    <%= text_field_tag :name, params[:name], class: 'form-control search', name: 'promotions.name' %>
                  </th>
                  <th class="hasinput">
                    <%= text_field_tag :promotion_type, params[:promotion_type], class: 'form-control search' %>
                  </th>
                  <th class="hasinput">
                    <%= text_field_tag :from, params[:from], class: 'form-control search', name: "to_char(promotions.from, 'DD-MM-YYYY')" %>
                  </th>
                  <th class="hasinput">
                    <%= text_field_tag :to, params[:to], class: 'form-control search', name: "to_char(promotions.to, 'DD-MM-YYYY')" %>
                  </th>
                  <th></th>
                  <th></th>
                  <th></th>
                  <th class="hasinput">
                    <%= text_field_tag :branch_name, params[:branch_name], class: 'form-control search', name: 'offices.office_name' %>
                  </th>
                  <th></th>
                </tr>
              </thead>
              <tbody id='promotion-list'><%= render 'promotion_list' %></tbody>
            </table>
          </div>
        </div>
      </article>
    </div>
  </section>
</div>
